!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,function(t){return e[t]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(){function e(e,t){if(!e)return void figma.notify("ERROR: Could not paste item. Item is undefined.");if(!t)return void figma.notify("ERROR: Could not paste item. Target is undefined.");const i=n(e,t);let o=t.parent.children.findIndex(e=>e.id===t.id)+1;(0>o||o>t.parent.children.length)&&(o=t.parent.children.length);const r=e.clone();return t.parent.insertChild(o,r),r.x=i.x,r.y=i.y,r}function t(e){const t=new Map;if(!e)return t;for(let n=e.parent;n;)t.set(n.id,n),n=n.id===o.id?void 0:n.parent;return t}function n(e,n){const i=t(e),o=t(n);let r,a={x:e.x,y:e.y};for(let[e,t]of i){if(o.get(e)){r=t;break}a.x+=t.x||0,a.y+=t.y||0}const f=Array.from(o.keys());for(let e=f.indexOf(r.id)-1;0<=e;e--){const t=f[e],n=o.get(t);a.x-=n.x||0,a.y-=n.y||0}return a}const i=figma.currentPage.selection,o=figma.root;!function(){if(0===i.length)return figma.closePlugin("No layer selected");switch(figma.command){case"copy":return function(){const e=i.map(e=>e.id);o.setPluginData("clipboardAction","copy"),o.setPluginData("clipboardItemsIds",e.join("|")),figma.closePlugin("Copied")}();case"paste":return function(){const t=o.getPluginData("clipboardItemsIds").split("|"),n=i.map(e=>e.id),r=i.slice()[0],a=[],f=figma.notify("Processing...",{timeout:32});for(let i of t){const t=figma.getNodeById(i);t||figma.notify(`ERROR: Cannot find item to copy: '${i}'`);let o=-1<n.indexOf(t.id)?void 0:r;o=o?figma.getNodeById(o.id):t.parent;const f=e(t,o);f&&a.push(f)}figma.currentPage.selection=a,setTimeout(()=>f.cancel(),1e3),figma.closePlugin("Pasted")}()}figma.closePlugin("Smart Copy Plugin Exit")}()}]);