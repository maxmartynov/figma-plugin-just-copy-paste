!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(t){return e[t]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(){function e(e,n){if(!e)return void console.error("Could not paste item. Item is undefined.");if(!n)return void console.error("Could not paste item. Parent is undefined.");const o="function"==typeof n.appendChild?n:n.parent,i=e.clone(),r=t(e,o);return o.appendChild(i),i.x=r.x,i.y=r.y,i}function t(e,t){let n=e,o=t;const i=function(e,t){const n=t.children?t:t.parent;for(let t=e.parent;t;){if(n.id===t.id)return!0;t=t.parent}return!1}(n,o);i||(n=t,o=e);let r={x:n.x,y:n.y},a=n.parent;if(i)for(;a;){const e=o.id!==a.id;e&&(r.x+=a.x||0,r.y+=a.y||0),a=e?a.parent:void 0}else{for(r.x*=-1,r.y*=-1;a;){const e=o.parent.id!==a.id;e&&(r.x-=a.x||0,r.y-=a.y||0),a=e?a.parent:void 0}r.x+=o.x||0,r.y+=o.y||0}return r}console.log("figma-plugin-smart-copy-paste: start");let n=figma.currentPage.selection,o=figma.root;0===n.length&&figma.closePlugin("No object selected."),"copy"===figma.command&&function(){const e=n.map(e=>e.id);o.setPluginData("clipboardAction","copy"),o.setPluginData("clipboardItemsIds",e.join("|")),figma.closePlugin("Copied")}(),"paste"===figma.command&&function(){const t=o.getPluginData("clipboardItemsIds").split("|"),i=n.map(e=>e.id);let r=n.slice()[0];const a=[],c=figma.notify("Processing...",{timeout:32});for(let n of t){const t=figma.getNodeById(n);t||figma.notify(`ERROR: Cannot find item to copy: '${n}'`);let o=r;-1<i.indexOf(t.id)&&(o=void 0);const c=o?figma.getNodeById(o.id):t.parent;a.push(e(t,c))}figma.currentPage.selection=a,setTimeout(()=>c.cancel(),1e3),figma.closePlugin("Pasted")}(),figma.closePlugin("Smart Copy Plugin Exit")}]);